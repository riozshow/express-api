{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../config';\n\n/* SELECTORS */\nexport const getSeats = ({\n  seats\n}) => seats.data;\nexport const getRequests = ({\n  seats\n}) => seats.requests;\n\n/* ACTIONS */\n\n// action name creator\nconst reducerName = 'seats';\nconst createActionName = name => `app/${reducerName}/${name}`;\nconst START_REQUEST = createActionName('START_REQUEST');\nconst END_REQUEST = createActionName('END_REQUEST');\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\nconst LOAD_SEATS = createActionName('LOAD_SEATS');\nconst ADD_SEAT = createActionName('ADD_SEAT');\nexport const startRequest = payload => ({\n  payload,\n  type: START_REQUEST\n});\nexport const endRequest = payload => ({\n  payload,\n  type: END_REQUEST\n});\nexport const errorRequest = payload => ({\n  payload,\n  type: ERROR_REQUEST\n});\nexport const loadSeats = payload => ({\n  payload,\n  type: LOAD_SEATS\n});\nexport const addSeat = payload => ({\n  payload,\n  type: ADD_SEAT\n});\n\n/* THUNKS */\n\nexport const loadSeatsRequest = () => {\n  return async dispatch => {\n    dispatch(startRequest({\n      name: 'LOAD_SEATS'\n    }));\n    try {\n      let res = await axios.get(`${API_URL}/seats`);\n      dispatch(loadSeats(res.data));\n      dispatch(endRequest({\n        name: 'LOAD_SEATS'\n      }));\n    } catch (e) {\n      dispatch(errorRequest({\n        name: 'LOAD_SEATS',\n        error: e.message\n      }));\n    }\n  };\n};\nexport const addSeatRequest = seat => {\n  return async dispatch => {\n    dispatch(startRequest({\n      name: 'ADD_SEAT'\n    }));\n    try {\n      let res = await axios.post(`${API_URL}/seats`, seat);\n      dispatch(addSeat(res));\n      dispatch(endRequest({\n        name: 'ADD_SEAT'\n      }));\n    } catch (e) {\n      dispatch(errorRequest({\n        name: 'ADD_SEAT',\n        error: e.message\n      }));\n    }\n  };\n};\n\n/* INITIAL STATE */\n\nconst initialState = {\n  data: [],\n  requests: {}\n};\n\n/* REDUCER */\n\nexport default function reducer(statePart = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD_SEATS:\n      return {\n        ...statePart,\n        data: [...action.payload]\n      };\n    case ADD_SEAT:\n      return {\n        ...statePart,\n        data: [...statePart.data, action.payload]\n      };\n    case START_REQUEST:\n      return {\n        ...statePart,\n        requests: {\n          ...statePart.requests,\n          [action.payload.name]: {\n            pending: true,\n            error: null,\n            success: false\n          }\n        }\n      };\n    case END_REQUEST:\n      return {\n        ...statePart,\n        requests: {\n          ...statePart.requests,\n          [action.payload.name]: {\n            pending: false,\n            error: null,\n            success: true\n          }\n        }\n      };\n    case ERROR_REQUEST:\n      return {\n        ...statePart,\n        requests: {\n          ...statePart.requests,\n          [action.payload.name]: {\n            pending: false,\n            error: action.payload.error,\n            success: false\n          }\n        }\n      };\n    default:\n      return statePart;\n  }\n}","map":{"version":3,"names":["axios","API_URL","getSeats","seats","data","getRequests","requests","reducerName","createActionName","name","START_REQUEST","END_REQUEST","ERROR_REQUEST","LOAD_SEATS","ADD_SEAT","startRequest","payload","type","endRequest","errorRequest","loadSeats","addSeat","loadSeatsRequest","dispatch","res","get","e","error","message","addSeatRequest","seat","post","initialState","reducer","statePart","action","pending","success"],"sources":["D:/KODILLA/express-2/client/src/redux/seatsRedux.js"],"sourcesContent":["import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getSeats = ({ seats }) => seats.data;\r\nexport const getRequests = ({ seats }) => seats.requests;\r\n\r\n/* ACTIONS */\r\n\r\n// action name creator\r\nconst reducerName = 'seats';\r\nconst createActionName = (name) => `app/${reducerName}/${name}`;\r\n\r\nconst START_REQUEST = createActionName('START_REQUEST');\r\nconst END_REQUEST = createActionName('END_REQUEST');\r\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\n\r\nconst LOAD_SEATS = createActionName('LOAD_SEATS');\r\nconst ADD_SEAT = createActionName('ADD_SEAT');\r\n\r\nexport const startRequest = (payload) => ({ payload, type: START_REQUEST });\r\nexport const endRequest = (payload) => ({ payload, type: END_REQUEST });\r\nexport const errorRequest = (payload) => ({ payload, type: ERROR_REQUEST });\r\n\r\nexport const loadSeats = (payload) => ({ payload, type: LOAD_SEATS });\r\nexport const addSeat = (payload) => ({ payload, type: ADD_SEAT });\r\n\r\n/* THUNKS */\r\n\r\nexport const loadSeatsRequest = () => {\r\n  return async (dispatch) => {\r\n    dispatch(startRequest({ name: 'LOAD_SEATS' }));\r\n    try {\r\n      let res = await axios.get(`${API_URL}/seats`);\r\n      dispatch(loadSeats(res.data));\r\n      dispatch(endRequest({ name: 'LOAD_SEATS' }));\r\n    } catch (e) {\r\n      dispatch(errorRequest({ name: 'LOAD_SEATS', error: e.message }));\r\n    }\r\n  };\r\n};\r\n\r\nexport const addSeatRequest = (seat) => {\r\n  return async (dispatch) => {\r\n    dispatch(startRequest({ name: 'ADD_SEAT' }));\r\n    try {\r\n      let res = await axios.post(`${API_URL}/seats`, seat);\r\n      dispatch(addSeat(res));\r\n      dispatch(endRequest({ name: 'ADD_SEAT' }));\r\n    } catch (e) {\r\n      dispatch(errorRequest({ name: 'ADD_SEAT', error: e.message }));\r\n    }\r\n  };\r\n};\r\n\r\n/* INITIAL STATE */\r\n\r\nconst initialState = {\r\n  data: [],\r\n  requests: {},\r\n};\r\n\r\n/* REDUCER */\r\n\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD_SEATS:\r\n      return { ...statePart, data: [...action.payload] };\r\n    case ADD_SEAT:\r\n      return { ...statePart, data: [...statePart.data, action.payload] };\r\n    case START_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        requests: {\r\n          ...statePart.requests,\r\n          [action.payload.name]: { pending: true, error: null, success: false },\r\n        },\r\n      };\r\n    case END_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        requests: {\r\n          ...statePart.requests,\r\n          [action.payload.name]: { pending: false, error: null, success: true },\r\n        },\r\n      };\r\n    case ERROR_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        requests: {\r\n          ...statePart.requests,\r\n          [action.payload.name]: {\r\n            pending: false,\r\n            error: action.payload.error,\r\n            success: false,\r\n          },\r\n        },\r\n      };\r\n    default:\r\n      return statePart;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}