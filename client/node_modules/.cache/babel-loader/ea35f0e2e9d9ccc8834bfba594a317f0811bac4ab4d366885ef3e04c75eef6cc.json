{"ast":null,"code":"import axios from'axios';import{API_URL}from'../config';/* SELECTORS */export const getConcerts=_ref=>{let{concerts}=_ref;return concerts.data;};export const getRequest=_ref2=>{let{concerts}=_ref2;return concerts.request;};/* ACTIONS */ // action name creator\nconst reducerName='concerts';const createActionName=name=>\"app/\".concat(reducerName,\"/\").concat(name);const START_REQUEST=createActionName('START_REQUEST');const END_REQUEST=createActionName('END_REQUEST');const ERROR_REQUEST=createActionName('ERROR_REQUEST');const LOAD_CONCERTS=createActionName('LOAD_CONCERTS');export const startRequest=()=>({type:START_REQUEST});export const endRequest=()=>({type:END_REQUEST});export const errorRequest=error=>({error,type:ERROR_REQUEST});export const loadConcerts=payload=>({payload,type:LOAD_CONCERTS});/* THUNKS */export const loadConcertsRequest=()=>{return async dispatch=>{dispatch(startRequest());try{let res=await axios.get(\"\".concat(API_URL,\"/concerts\"));dispatch(loadConcerts(res.data));dispatch(endRequest());}catch(e){dispatch(errorRequest(e.message));}};};/* INITIAL STATE */const initialState={data:[],request:{pending:false,error:null,success:null}};/* REDUCER */export default function reducer(){let statePart=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};switch(action.type){case LOAD_CONCERTS:return{...statePart,data:[...action.payload]};case START_REQUEST:return{...statePart,request:{pending:true,error:null,success:false}};case END_REQUEST:return{...statePart,request:{pending:false,error:null,success:true}};case ERROR_REQUEST:return{...statePart,request:{pending:false,error:action.error,success:false}};default:return statePart;}}","map":{"version":3,"names":["axios","API_URL","getConcerts","_ref","concerts","data","getRequest","_ref2","request","reducerName","createActionName","name","concat","START_REQUEST","END_REQUEST","ERROR_REQUEST","LOAD_CONCERTS","startRequest","type","endRequest","errorRequest","error","loadConcerts","payload","loadConcertsRequest","dispatch","res","get","e","message","initialState","pending","success","reducer","statePart","arguments","length","undefined","action"],"sources":["D:/KODILLA/express-2/client/src/redux/concertsRedux.js"],"sourcesContent":["import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getConcerts = ({ concerts }) => concerts.data;\r\nexport const getRequest = ({ concerts }) => concerts.request;\r\n\r\n/* ACTIONS */\r\n\r\n// action name creator\r\nconst reducerName = 'concerts';\r\nconst createActionName = (name) => `app/${reducerName}/${name}`;\r\n\r\nconst START_REQUEST = createActionName('START_REQUEST');\r\nconst END_REQUEST = createActionName('END_REQUEST');\r\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\n\r\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\r\n\r\nexport const startRequest = () => ({ type: START_REQUEST });\r\nexport const endRequest = () => ({ type: END_REQUEST });\r\nexport const errorRequest = (error) => ({ error, type: ERROR_REQUEST });\r\n\r\nexport const loadConcerts = (payload) => ({ payload, type: LOAD_CONCERTS });\r\n\r\n/* THUNKS */\r\n\r\nexport const loadConcertsRequest = () => {\r\n  return async (dispatch) => {\r\n    dispatch(startRequest());\r\n    try {\r\n      let res = await axios.get(`${API_URL}/concerts`);\r\n      dispatch(loadConcerts(res.data));\r\n      dispatch(endRequest());\r\n    } catch (e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n  };\r\n};\r\n\r\n/* INITIAL STATE */\r\n\r\nconst initialState = {\r\n  data: [],\r\n  request: {\r\n    pending: false,\r\n    error: null,\r\n    success: null,\r\n  },\r\n};\r\n\r\n/* REDUCER */\r\n\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD_CONCERTS:\r\n      return { ...statePart, data: [...action.payload] };\r\n    case START_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: true, error: null, success: false },\r\n      };\r\n    case END_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: false, error: null, success: true },\r\n      };\r\n    case ERROR_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: false, error: action.error, success: false },\r\n      };\r\n    default:\r\n      return statePart;\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}