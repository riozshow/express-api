{"ast":null,"code":"import axios from 'axios';\nimport { API_URL } from '../config';\n\n/* SELECTORS */\nexport const getConcerts = ({\n  concerts\n}) => concerts.data;\nexport const getRequest = ({\n  concerts\n}) => concerts.request;\n\n/* ACTIONS */\n\n// action name creator\nconst reducerName = 'concerts';\nconst createActionName = name => `app/${reducerName}/${name}`;\nconst START_REQUEST = createActionName('START_REQUEST');\nconst END_REQUEST = createActionName('END_REQUEST');\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\nexport const startRequest = () => ({\n  type: START_REQUEST\n});\nexport const endRequest = () => ({\n  type: END_REQUEST\n});\nexport const errorRequest = error => ({\n  error,\n  type: ERROR_REQUEST\n});\nexport const loadConcerts = payload => ({\n  payload,\n  type: LOAD_CONCERTS\n});\n\n/* THUNKS */\n\nexport const loadConcertsRequest = () => {\n  return async dispatch => {\n    dispatch(startRequest());\n    try {\n      let res = await axios.get(`${API_URL}/concerts`);\n      dispatch(loadConcerts(res.data));\n      dispatch(endRequest());\n    } catch (e) {\n      dispatch(errorRequest(e.message));\n    }\n  };\n};\n\n/* INITIAL STATE */\n\nconst initialState = {\n  data: [],\n  request: {\n    pending: false,\n    error: null,\n    success: null\n  }\n};\n\n/* REDUCER */\n\nexport default function reducer(statePart = initialState, action = {}) {\n  switch (action.type) {\n    case LOAD_CONCERTS:\n      return {\n        ...statePart,\n        data: [...action.payload]\n      };\n    case START_REQUEST:\n      return {\n        ...statePart,\n        request: {\n          pending: true,\n          error: null,\n          success: false\n        }\n      };\n    case END_REQUEST:\n      return {\n        ...statePart,\n        request: {\n          pending: false,\n          error: null,\n          success: true\n        }\n      };\n    case ERROR_REQUEST:\n      return {\n        ...statePart,\n        request: {\n          pending: false,\n          error: action.error,\n          success: false\n        }\n      };\n    default:\n      return statePart;\n  }\n}","map":{"version":3,"names":["axios","API_URL","getConcerts","concerts","data","getRequest","request","reducerName","createActionName","name","START_REQUEST","END_REQUEST","ERROR_REQUEST","LOAD_CONCERTS","startRequest","type","endRequest","errorRequest","error","loadConcerts","payload","loadConcertsRequest","dispatch","res","get","e","message","initialState","pending","success","reducer","statePart","action"],"sources":["D:/KODILLA/express-2/client/src/redux/concertsRedux.js"],"sourcesContent":["import axios from 'axios';\r\nimport { API_URL } from '../config';\r\n\r\n/* SELECTORS */\r\nexport const getConcerts = ({ concerts }) => concerts.data;\r\nexport const getRequest = ({ concerts }) => concerts.request;\r\n\r\n/* ACTIONS */\r\n\r\n// action name creator\r\nconst reducerName = 'concerts';\r\nconst createActionName = (name) => `app/${reducerName}/${name}`;\r\n\r\nconst START_REQUEST = createActionName('START_REQUEST');\r\nconst END_REQUEST = createActionName('END_REQUEST');\r\nconst ERROR_REQUEST = createActionName('ERROR_REQUEST');\r\n\r\nconst LOAD_CONCERTS = createActionName('LOAD_CONCERTS');\r\n\r\nexport const startRequest = () => ({ type: START_REQUEST });\r\nexport const endRequest = () => ({ type: END_REQUEST });\r\nexport const errorRequest = (error) => ({ error, type: ERROR_REQUEST });\r\n\r\nexport const loadConcerts = (payload) => ({ payload, type: LOAD_CONCERTS });\r\n\r\n/* THUNKS */\r\n\r\nexport const loadConcertsRequest = () => {\r\n  return async (dispatch) => {\r\n    dispatch(startRequest());\r\n    try {\r\n      let res = await axios.get(`${API_URL}/concerts`);\r\n      dispatch(loadConcerts(res.data));\r\n      dispatch(endRequest());\r\n    } catch (e) {\r\n      dispatch(errorRequest(e.message));\r\n    }\r\n  };\r\n};\r\n\r\n/* INITIAL STATE */\r\n\r\nconst initialState = {\r\n  data: [],\r\n  request: {\r\n    pending: false,\r\n    error: null,\r\n    success: null,\r\n  },\r\n};\r\n\r\n/* REDUCER */\r\n\r\nexport default function reducer(statePart = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD_CONCERTS:\r\n      return { ...statePart, data: [...action.payload] };\r\n    case START_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: true, error: null, success: false },\r\n      };\r\n    case END_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: false, error: null, success: true },\r\n      };\r\n    case ERROR_REQUEST:\r\n      return {\r\n        ...statePart,\r\n        request: { pending: false, error: action.error, success: false },\r\n      };\r\n    default:\r\n      return statePart;\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,WAAW;;AAEnC;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAKA,QAAQ,CAACC,IAAI;AAC1D,OAAO,MAAMC,UAAU,GAAGA,CAAC;EAAEF;AAAS,CAAC,KAAKA,QAAQ,CAACG,OAAO;;AAE5D;;AAEA;AACA,MAAMC,WAAW,GAAG,UAAU;AAC9B,MAAMC,gBAAgB,GAAIC,IAAI,IAAM,OAAMF,WAAY,IAAGE,IAAK,EAAC;AAE/D,MAAMC,aAAa,GAAGF,gBAAgB,CAAC,eAAe,CAAC;AACvD,MAAMG,WAAW,GAAGH,gBAAgB,CAAC,aAAa,CAAC;AACnD,MAAMI,aAAa,GAAGJ,gBAAgB,CAAC,eAAe,CAAC;AAEvD,MAAMK,aAAa,GAAGL,gBAAgB,CAAC,eAAe,CAAC;AAEvD,OAAO,MAAMM,YAAY,GAAGA,CAAA,MAAO;EAAEC,IAAI,EAAEL;AAAc,CAAC,CAAC;AAC3D,OAAO,MAAMM,UAAU,GAAGA,CAAA,MAAO;EAAED,IAAI,EAAEJ;AAAY,CAAC,CAAC;AACvD,OAAO,MAAMM,YAAY,GAAIC,KAAK,KAAM;EAAEA,KAAK;EAAEH,IAAI,EAAEH;AAAc,CAAC,CAAC;AAEvE,OAAO,MAAMO,YAAY,GAAIC,OAAO,KAAM;EAAEA,OAAO;EAAEL,IAAI,EAAEF;AAAc,CAAC,CAAC;;AAE3E;;AAEA,OAAO,MAAMQ,mBAAmB,GAAGA,CAAA,KAAM;EACvC,OAAO,MAAOC,QAAQ,IAAK;IACzBA,QAAQ,CAACR,YAAY,CAAC,CAAC,CAAC;IACxB,IAAI;MACF,IAAIS,GAAG,GAAG,MAAMvB,KAAK,CAACwB,GAAG,CAAE,GAAEvB,OAAQ,WAAU,CAAC;MAChDqB,QAAQ,CAACH,YAAY,CAACI,GAAG,CAACnB,IAAI,CAAC,CAAC;MAChCkB,QAAQ,CAACN,UAAU,CAAC,CAAC,CAAC;IACxB,CAAC,CAAC,OAAOS,CAAC,EAAE;MACVH,QAAQ,CAACL,YAAY,CAACQ,CAAC,CAACC,OAAO,CAAC,CAAC;IACnC;EACF,CAAC;AACH,CAAC;;AAED;;AAEA,MAAMC,YAAY,GAAG;EACnBvB,IAAI,EAAE,EAAE;EACRE,OAAO,EAAE;IACPsB,OAAO,EAAE,KAAK;IACdV,KAAK,EAAE,IAAI;IACXW,OAAO,EAAE;EACX;AACF,CAAC;;AAED;;AAEA,eAAe,SAASC,OAAOA,CAACC,SAAS,GAAGJ,YAAY,EAAEK,MAAM,GAAG,CAAC,CAAC,EAAE;EACrE,QAAQA,MAAM,CAACjB,IAAI;IACjB,KAAKF,aAAa;MAChB,OAAO;QAAE,GAAGkB,SAAS;QAAE3B,IAAI,EAAE,CAAC,GAAG4B,MAAM,CAACZ,OAAO;MAAE,CAAC;IACpD,KAAKV,aAAa;MAChB,OAAO;QACL,GAAGqB,SAAS;QACZzB,OAAO,EAAE;UAAEsB,OAAO,EAAE,IAAI;UAAEV,KAAK,EAAE,IAAI;UAAEW,OAAO,EAAE;QAAM;MACxD,CAAC;IACH,KAAKlB,WAAW;MACd,OAAO;QACL,GAAGoB,SAAS;QACZzB,OAAO,EAAE;UAAEsB,OAAO,EAAE,KAAK;UAAEV,KAAK,EAAE,IAAI;UAAEW,OAAO,EAAE;QAAK;MACxD,CAAC;IACH,KAAKjB,aAAa;MAChB,OAAO;QACL,GAAGmB,SAAS;QACZzB,OAAO,EAAE;UAAEsB,OAAO,EAAE,KAAK;UAAEV,KAAK,EAAEc,MAAM,CAACd,KAAK;UAAEW,OAAO,EAAE;QAAM;MACjE,CAAC;IACH;MACE,OAAOE,SAAS;EACpB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}